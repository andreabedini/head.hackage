diff --git a/cabal-doctest.cabal b/cabal-doctest.cabal
index 30aeb12..dd23b9d 100644
--- a/cabal-doctest.cabal
+++ b/cabal-doctest.cabal
@@ -45,7 +45,7 @@ library
   other-extensions:
   build-depends:
       base       >=4.3  && <4.17
-    , Cabal      >=1.10 && <3.8
+    , Cabal      >=1.10 && <3.7
     , directory
     , filepath
 
diff --git a/src/Distribution/Extra/Doctest.hs b/src/Distribution/Extra/Doctest.hs
index ac5d07d..17b3d0d 100644
--- a/src/Distribution/Extra/Doctest.hs
+++ b/src/Distribution/Extra/Doctest.hs
@@ -125,7 +125,7 @@ import Distribution.Types.LibraryName
        (libraryNameString)
 #endif
 
-#if MIN_VERSION_Cabal(3,6,0)
+#if MIN_VERSION_Cabal(3,5,0)
 import Distribution.Utils.Path
        (getSymbolicPath)
 #endif
@@ -331,7 +331,7 @@ generateBuildModule testSuiteName flags pkg lbi = do
               <- mapM makeAbsolute
                $ compAutogenDir           -- autogenerated files
                : (distPref ++ "/build")   -- preprocessed files (.hsc -> .hs); "build" is hardcoded in Cabal.
-#if MIN_VERSION_Cabal(3,6,0)
+#if MIN_VERSION_Cabal(3,5,0)
                : map getSymbolicPath (hsSourceDirs compBI)
 #else
                : hsSourceDirs compBI
